<pcd-default-page-layout>

    <pcd-heading>
        <pcd-breadcrumb-heading text="{{$ctrl.pageHeading}}" pcd-breadcrumbs="$ctrl.breadcrumbs"></pcd-breadcrumb-heading>
    </pcd-heading>

    <pcd-sidebar>
        <p mee-paragraph data-use-cms>
            This page provides detailed information regarding a variant request. Specifically a detailed list of variants and data assets linked to the request.
        </p>
        <p mee-paragraph data-use-cms>
            <span class=view-label>Approve</span> will apply all the displayed variants to each of the data assets.
        </p>
        <p mee-paragraph data-use-cms>
            <span class=view-label>Deny</span> will reject the request, and no changes will be made to the requesting data assets.
        </p>
    </pcd-sidebar>

    <pcd-content>
        <mee-progress-view watch-operation="initializeAdminVariantRequestDetailsComponent">
            <inert-view></inert-view>

            <inprogress-view>
                <pcd-default-progress-spinner></pcd-default-progress-spinner>
            </inprogress-view>

            <failed-view>
                <p mee-paragraph data-use-cms>
                    Failed
                </p>
            </failed-view>

            <finished-view>
                <pcd-variant-request-details-view pcd-variant-request="$ctrl.request"></pcd-variant-request-details-view>

                <div data-grid="col-12">
                    <mee-inline-error error-id="{{$ctrl.errorCategory}}.generic"></mee-inline-error>
                    <mee-progress-ants-mwf mee-progress-visible="processVariantRequest"></mee-progress-ants-mwf>
                    <button mee-button mee-progress-disabled="processVariantRequest" ng-click="$ctrl.approveVariantRequest()" data-use-cms>Approve</button>
                    <button mee-button mee-progress-disabled="processVariantRequest" ng-click="$ctrl.denyVariantRequest()" data-use-cms>Deny</button>
                </div>
            </finished-view>
        </mee-progress-view>
    </pcd-content>

</pcd-default-page-layout>